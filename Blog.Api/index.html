<!DOCTYPE html>
<html ng-app="blog" xmlns="http://www.w3.org/1999/xhtml">
<head>

    <title>Blog</title>

    <link href="Content/bootstrap.css" rel="stylesheet" />

    <style>
        .jumbotron {
            text-align: center;
            color: white;
            /*background-color: #0386e4;*/
            margin-top: 50px;
        }

        .container {
            margin-left: auto;            
            margin-right: auto;
            width: 800px;
        }

        .form-inline {
            font-size: 14px;
            font-family: Calibri;
            color: gray;
        }

    </style>

    <script src="Scripts/angular.js"></script>

    <script>
        angular.module("blog", []);
        angular.module("blog").controller("blogController", function ($scope, $http) {

            $http.get("http://localhost:41393/blog/post/getall")
                .success(
                function (data) {
                    $scope.posts = data;
                }
                )
                .error(
                function (e) {
                    $scope.mensagem = e;
                }
                );
        });
    </script>

</head>

<body ng-controller="blogController">

    <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <!--<a class="navbar-brand" href="#">blog</a>-->
            </div>
            <div id="navbar" class="navbar-collapse collapse">
                <form class="navbar-form navbar-right">
                    <div class="form-group">
                        <input placeholder="Login" class="form-control" type="text">
                    </div>
                    <div class="form-group">
                        <input placeholder="Password" class="form-control" type="password">
                    </div>
                    <button type="submit" class="btn btn-primary">Entrar</button>
                </form>
            </div><!--/.navbar-collapse -->
        </div>
    </nav>

    <div class="jumbotron">

        <h2>Blog</h2>

    </div>

    <div class="row container">

        <div class="col-md-12">

            <table class="table table-striped">

                <thead>

                    <tr>
                        <!--<th>Tópicos</th>-->
                    </tr>

                </thead>

                <tbody>

                    <tr ng-repeat="p in posts">

                        <td>
                            <table>
                                <tr>
                                    <td><p class="form-inline">Por {{p.UserLogin}} às {{p.CreationDate | date : 'H:mm'}}</p></td>
                                    <td><p class="form-inline">{{p.CreationDate | date : 'dd/MM/yy'}}</p></td>
                                </tr>

                                <tr>
                                    <td>
                                        <blockquote>
                                            <h2><strong>{{p.Title}}</strong></h2>
                                            <h4>{{p.Content}}</h4>
                                        </blockquote>
                                    </td>
                                </tr>
                            </table>
                        </td>                      

                    </tr>

                </tbody>

            </table>

        </div>

    </div>

</body>

</html>




